<ng-container *ngIf="myGroups$ | async as model">
  <ng-container *ngIf="model.state === 'READY'">

    <ad-create-group [model]="model.data" (createGroupEmit)="createGroup($event)"></ad-create-group>

    <ng-container *ngIf="model.data.myInvitations?.length">
      <ad-my-invitation (invitationResultEmit)="invitationResultEmit($event, model.data)"
                        *ngFor="let invitation of model.data.myInvitations" [data]="invitation">
      </ad-my-invitation>
    </ng-container>

    <ad-my-groups
      *ngIf="model.data.myGroups?.length"
      (inviteUser)="inviteUser($event)"
      (actionWithGroupUser)="actionWithGroupUser($event)"
      (deleteGroup)="deleteGroup($event)"
      [groups]="model.data.myGroups"></ad-my-groups>

    <div class="groups-where-i-member" *ngIf="model.data.groupsWhereIMember?.length">
      <h2>Вы состоите в следующих группах</h2>
      <ad-groups-where-i-member
        *ngFor="let group of model.data.groupsWhereIMember"
        [group]="group"
      ></ad-groups-where-i-member>
    </div>

  </ng-container>
  <ui-preloader *ngIf="model.state === 'LOADING'"></ui-preloader>
  <ui-preloader *ngIf="loader$ | async"></ui-preloader>

</ng-container>
